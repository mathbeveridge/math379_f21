<!DOCTYPE html>
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Combi Recurrences for Eulerian Numbers</title>
<meta name="Keywords" content="Authored in PreTeXt">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script>window.MathJax = {
  tex: {
    inlineMath: [['\\(','\\)']],
    tags: "none",
    useLabelIds: true,
    tagSide: "right",
    tagIndent: ".8em",
    packages: {'[+]': ['base', 'extpfeil', 'ams', 'amscd', 'newcommand', 'knowl']}
  },
  options: {
    ignoreHtmlClass: "tex2jax_ignore",
    processHtmlClass: "has_am",
  },
  chtml: {
    scale: 0.88,
    mtextInheritFont: true
  },
  loader: {
    load: ['input/asciimath', '[tex]/extpfeil', '[tex]/amscd', '[tex]/newcommand', '[pretext]/mathjaxknowl3.js'],
    paths: {pretext: "https://pretextbook.org/js/lib"},
  },
};
</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/lib/jquery.min.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/lib/jquery.sticky.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/lib/jquery.espy.min.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/0.13/pretext.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/0.13/pretext_add_on.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/lib/knowl.js"></script><!--knowl.js code controls Sage Cells within knowls--><script xmlns:svg="http://www.w3.org/2000/svg">sagecellEvalName='Evaluate (Sage)';
</script><link xmlns:svg="http://www.w3.org/2000/svg" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600,600italic" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://fonts.googleapis.com/css?family=Inconsolata:400,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/pretext.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/pretext_add_on.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/banner_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/toc_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/knowls_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/style_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/colors_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/setcolors.css" rel="stylesheet" type="text/css">
<!-- 2019-10-12: Temporary - CSS file for experiments with styling --><link xmlns:svg="http://www.w3.org/2000/svg" href="developer.css" rel="stylesheet" type="text/css">
</head>
<body class="pretext-book has-toc has-sidebar-left">
<a class="assistive" href="#content">Skip to main content</a><div xmlns:svg="http://www.w3.org/2000/svg" id="latex-macros" class="hidden-content" style="display:none">\( \newcommand{\identity}{\mathrm{id}}
 \newcommand{\notdivide}{{\not{\mid}}}
 \newcommand{\notsubset}{\not\subset}
 \newcommand{\lcm}{\operatorname{lcm}}
 \newcommand{\gf}{\operatorname{GF}}
 \newcommand{\inn}{\operatorname{Inn}}
 \newcommand{\aut}{\operatorname{Aut}}
 \newcommand{\Hom}{\operatorname{Hom}}
 \newcommand{\cis}{\operatorname{cis}}
 \newcommand{\chr}{\operatorname{char}}
 \newcommand{\Null}{\operatorname{Null}}


 \def\Z{\mathbb Z}
 \def\R{\mathbb R}
 \def\Q{\mathbb Q}
 \def\N{{\mathbb N}}
 \def\C{\mathbb C}

 \def\ba{{\mathbf{a}}}
 \def\bb{\mathbf{b}}
 \def\bh{{\mathbf{h}}}
 \def\bu{{\mathbf{u}}}
 \def\bv{{\mathbf{v}}}
 \def\bw{{\mathbf{w}}}   
 \def\bx{{\mathbf{x}}}
 \def\by{\mathbf{y}}    
 \def\bone{{\mathbf{1}}}
 \def\bzero{\mathbf{0}}

 \def\var{{\mbox{var}}}
 \def\P{{\mathbb{P}}}
 \def\E{{\mathbb{E}}}

 \def\cA{{\mathcal{A}}}
 \def\cB{{\mathcal{B}}}
 \def\cC{{\mathcal{C}}}
 \def\cP{\mathcal P}
 \def\cE{\mathcal E}
 \def\cO{\mathcal O}




 \def\kin{k^{\mathrm{in}}}
 \def\kout{k^{\mathrm{out}}}

 \newcommand{\indeg}[1]{k^{\mathrm{in}}_{#1}}
 \newcommand{\outdeg}[1]{k^{\mathrm{out}}_{#1}}

 \tikzset{-&gt;-/.style={decoration={
  markings,
  mark=at position .5 with {\arrow{latex}}},postaction={decorate}}}
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\)</div>
<header id="masthead" class="smallbuttons"><div class="banner"><div class="container">
<a id="logo-link" href=""></a><div class="title-container">
<h1 class="heading"><a href="combi.html"><span class="title">Enumerative Combinatorics:</span> <span class="subtitle">Activities and Exercises</span></a></h1>
<p class="byline">Andrew Beveridge</p>
</div>
</div></div>
<nav xmlns:svg="http://www.w3.org/2000/svg" id="primary-navbar" class="navbar"><div class="container">
<div class="navbar-top-buttons">
<button class="sidebar-left-toggle-button button active" aria-label="Show or hide table of contents sidebar">Contents</button><div class="tree-nav toolbar toolbar-divisor-3"><span class="threebuttons"><a id="previousbutton" class="previous-button toolbar-item button" href="part-perm.html" title="Previous">Prev</a><a id="upbutton" class="up-button button toolbar-item" href="part-perm.html" title="Up">Up</a><a id="nextbutton" class="next-button button toolbar-item" href="perm-descending-tree.html" title="Next">Next</a></span></div>
</div>
<div class="navbar-bottom-buttons toolbar toolbar-divisor-4">
<button class="sidebar-left-toggle-button button toolbar-item active">Contents</button><a class="previous-button toolbar-item button" href="part-perm.html" title="Previous">Prev</a><a class="up-button button toolbar-item" href="part-perm.html" title="Up">Up</a><a class="next-button button toolbar-item" href="perm-descending-tree.html" title="Next">Next</a>
</div>
</div></nav></header><div class="page">
<div xmlns:svg="http://www.w3.org/2000/svg" id="sidebar-left" class="sidebar" role="navigation"><div class="sidebar-content">
<nav id="toc"><ul>
<li class="link frontmatter"><a href="frontmatter.html" data-scroll="frontmatter"><span class="title">Front Matter</span></a></li>
<li class="link part"><a href="part-counting.html" data-scroll="part-counting"><span class="codenumber">I</span> <span class="title">Counting</span></a></li>
<li class="link"><a href="basic-counting.html" data-scroll="basic-counting"><span class="codenumber">1</span> <span class="title">Basic Counting</span></a></li>
<li class="link"><a href="pigeonhole.html" data-scroll="pigeonhole"><span class="codenumber">2</span> <span class="title">Pigeonhole Principle</span></a></li>
<li class="link"><a href="functions.html" data-scroll="functions"><span class="codenumber">3</span> <span class="title">Functions</span></a></li>
<li class="link"><a href="bijective-proof.html" data-scroll="bijective-proof"><span class="codenumber">4</span> <span class="title">Bijective Proof</span></a></li>
<li class="link"><a href="comb-proof.html" data-scroll="comb-proof"><span class="codenumber">5</span> <span class="title">Combinatorial Proof</span></a></li>
<li class="link"><a href="compositions.html" data-scroll="compositions"><span class="codenumber">6</span> <span class="title">Compositions of Integers</span></a></li>
<li class="link"><a href="set-partition.html" data-scroll="set-partition"><span class="codenumber">7</span> <span class="title">Set Partitions</span></a></li>
<li class="link"><a href="int-partition.html" data-scroll="int-partition"><span class="codenumber">8</span> <span class="title">Integer Partitions</span></a></li>
<li class="link"><a href="inclusion-exclusion.html" data-scroll="inclusion-exclusion"><span class="codenumber">9</span> <span class="title">Inclusion/Exclusion</span></a></li>
<li class="link"><a href="catalan.html" data-scroll="catalan"><span class="codenumber">10</span> <span class="title">Catalan Numbers</span></a></li>
<li class="link"><a href="counting-exercise.html" data-scroll="counting-exercise"><span class="codenumber">11</span> <span class="title">Counting Exercises</span></a></li>
<li class="link part"><a href="part-genfun.html" data-scroll="part-genfun"><span class="codenumber">II</span> <span class="title">Generating Functions</span></a></li>
<li class="link"><a href="bestiarum.html" data-scroll="bestiarum"><span class="codenumber">12</span> <span class="title">Bestiarum Generandi</span></a></li>
<li class="link"><a href="genfun.html" data-scroll="genfun"><span class="codenumber">13</span> <span class="title">Generating Function Introduction</span></a></li>
<li class="link"><a href="genfun-intcomps.html" data-scroll="genfun-intcomps"><span class="codenumber">14</span> <span class="title">Generating Functions for Integer Compositions</span></a></li>
<li class="link"><a href="genfun-product.html" data-scroll="genfun-product"><span class="codenumber">15</span> <span class="title">Products of  Generating Functions II</span></a></li>
<li class="link"><a href="genfun-comp.html" data-scroll="genfun-comp"><span class="codenumber">16</span> <span class="title">Compositions of Generating Functions</span></a></li>
<li class="link"><a href="genfun-exercise.html" data-scroll="genfun-exercise"><span class="codenumber">17</span> <span class="title">Generating Function Exercises</span></a></li>
<li class="link part"><a href="part-perm.html" data-scroll="part-perm"><span class="codenumber">III</span> <span class="title">Permutations</span></a></li>
<li class="link active"><a href="perm-euler-recur.html" data-scroll="perm-euler-recur"><span class="codenumber">18</span> <span class="title">Recurrences for Eulerian Numbers</span></a></li>
<li class="link"><a href="perm-descending-tree.html" data-scroll="perm-descending-tree"><span class="codenumber">19</span> <span class="title">Descending Binary Trees</span></a></li>
<li class="link"><a href="perm-cycle-structure.html" data-scroll="perm-cycle-structure"><span class="codenumber">20</span> <span class="title">Cycle Structure of Permutations</span></a></li>
<li class="link"><a href="perm-num-cycles.html" data-scroll="perm-num-cycles"><span class="codenumber">21</span> <span class="title">Average Number of Cycles in a Permutation</span></a></li>
<li class="link"><a href="perm-transition-lemma.html" data-scroll="perm-transition-lemma"><span class="codenumber">22</span> <span class="title">The Transition Lemma</span></a></li>
<li class="link part"><a href="part-graph.html" data-scroll="part-graph"><span class="codenumber">IV</span> <span class="title">Graphs</span></a></li>
<li class="link"><a href="graph-automorph.html" data-scroll="graph-automorph"><span class="codenumber">23</span> <span class="title">Graph Automorphisms and Graph Labelings</span></a></li>
<li class="link"><a href="graph-cayley.html" data-scroll="graph-cayley"><span class="codenumber">24</span> <span class="title">Cayley's Theorem</span></a></li>
<li class="link"><a href="graph-forest.html" data-scroll="graph-forest"><span class="codenumber">25</span> <span class="title">Counting Trees and Forests</span></a></li>
<li class="link"><a href="graph-genfun.html" data-scroll="graph-genfun"><span class="codenumber">26</span> <span class="title">Graphs and Generating Functions</span></a></li>
</ul></nav><div class="extras"><nav><a class="pretext-link" href="https://pretextbook.org">Authored in PreTeXt</a><a href="https://www.mathjax.org"><img title="Powered by MathJax" src="https://www.mathjax.org/badge/badge.gif" alt="Powered by MathJax"></a></nav></div>
</div></div>
<main class="main"><div id="content" class="pretext-content"><section xmlns:svg="http://www.w3.org/2000/svg" class="chapter" id="perm-euler-recur"><h2 class="heading">
<span class="type">Chapter</span> <span class="codenumber">18</span> <span class="title">Recurrences for Eulerian Numbers</span>
</h2>
<section class="introduction" id="introduction-18"><p id="p-648">Given a permutation \(p=p_1 p_2 \cdots p_n\text{.}\) For \(1 \leq i \leq n-1\text{,}\) position \(i\) is an <em class="emphasis">ascent</em> when \(p_i &lt; p_{i+1}\text{;}\) otherwise   position \(i\) is a <em class="emphasis">descent</em> because \(p_i &gt; p_{i+1}\text{.}\)</p>
<p id="p-649">An <em class="emphasis">ascending run</em> is a sequence of ascents. A <em class="emphasis">descending run</em> is a sequence of descents.</p>
<p id="p-650">The Eulerian Number</p>
<div class="displaymath">
\begin{equation*}
\begin{array}{rcl}
A(n,k) &amp;=&amp; \mbox{# } \,  n \mbox{-permutations with } k \mbox{ascending runs} \\
&amp;=&amp; \mbox{# }  \,  n \mbox{-permutations with } k-1 \mbox{desccents} \\
\end{array}
\end{equation*}
</div></section><section class="exercises" id="exercises-17"><h3 class="heading hide-type">
<span class="type">Exercises</span> <span class="codenumber"></span> <span class="title">Practice Problems</span>
</h3>
<article class="exercise exercise-like" id="exercise-77"><h6 class="heading">
<span class="codenumber">1<span class="period">.</span></span><span class="space"> </span><span class="title">Eulerian Number Recurrence.</span>
</h6>
<p id="p-651">In this problem you will prove the recurrence</p>
<div class="displaymath">
\begin{equation*}
A(n,k) = k \, A(n-1,k) + (n-k+1) A(n-1, k-1)
\end{equation*}
</div>
<p class="continuation">As you might suspect, we will "treat element \(n\) as special." Let  \(\cA(n,k)\)  denote the set of \(n\)-permutations with \(k\) ascending runs (and therefore with \(k-1\) descents). <em class="emphasis">Pro Tip #1:</em> only positions \(1 \leq j \leq n-1\) are considered as ascents/descents. Position \(n\) is handled exceptionally. <em class="emphasis">Pro Tip #2:</em> Be ready to think about having \(k\) ascending runs, or \(k-1\) descents, whichever is easiest!</p>
<ol class="lower-alpha">
<li id="li-338">
<p id="p-652">As a warm-up, let's consider \(n=4\) and \(k=3\text{,}\) so that the recurrence becomes</p>
<div class="displaymath">
\begin{equation*}
A(4,3) = 3 A(3,3) + 2 A(3,2).
\end{equation*}
</div>
<p class="continuation">We list the 11 different permutations in  \(\cA(4,3)\) and all \(6=3!\) permutations in \(S_3\text{.}\) Draw a line from the 4-permutation to the 3-permutation we obtain by deleting element 4.</p>
<div class="displaymath">
\begin{equation*}
\begin{array}{ccccccccccc}
1432 &amp; 2143 &amp; 2431 &amp; 3142 &amp; 3214 &amp; 3241 &amp; 3421 &amp; 4132 &amp; 4213 &amp; 4231 &amp; 4312
\end{array}
\end{equation*}
</div>
<div class="displaymath">
\begin{equation*}
\begin{array}{ccccccccccc}
123 &amp; 132 &amp; 213 &amp; 231 &amp; 312 &amp; 321 \\
\end{array}
\end{equation*}
</div>
<p class="continuation"><a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-168" id="solution-168"><span class="type">Solution.</span> </a><div class="hidden-content tex2jax_ignore" id="hk-solution-168"><div class="solution solution-like">
<p id="p-653">Here are the mappings:</p>
<div class="displaymath">
\begin{equation*}
\begin{array}{c|cccccc}
123 &amp; \\
132 &amp; 1432 &amp; 4132 \\
213 &amp; 2143 &amp; 4213 \\
231 &amp; 2431 &amp; 4231 \\
312 &amp; 3142 &amp; 4312 \\
321 &amp; 3214 &amp; 3241 &amp; 3421
\end{array}
\end{equation*}
</div>
</div></div></p>
</li>
<li id="li-339"><p id="p-654">In part (a), you only mapped to permutations in \(\cA(3,2)\) and \(\cA(3,3)\text{.}\)  Now work backwards. Given a permutation in \(\cA(3,2)\text{,}\) where can you place element 4 to create a permutation in \(\cA(4,3)\text{?}\) Now, how about when you start with a permutation in \(\cA(3,3)\text{?}\) Write down your observations. <a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-169" id="solution-169"><span class="type">Solution.</span> </a><div class="hidden-content tex2jax_ignore" id="hk-solution-169"><div class="solution solution-like"><ul id="p-655" class="disc">
<li id="li-340"><p id="p-656">For \(p \in \cA(3,2)\text{,}\) you can put a 4 at the beginning, or after the only ascent. Either choice creates a new ascent.</p></li>
<li id="li-341"><p id="p-657">For \(p \in \cA(3,3)\text{,}\) you can put a 4 at the end, or after a descent. This preserves the total number of descents.</p></li>
</ul></div></div></p></li>
<li id="li-342"><p id="p-658">Now we start our proof for \(A(n,k)\text{.}\) Given a permutation \(p \in \cA(n,k)\text{.}\) Let \(p' \in S_{n-1}\) be the permutation obtained by removing element \(n\text{.}\) Explain why either \(p' \in \cA(n-1, k)\) or \(p' \in \cA(n-1,k-1)\text{.}\) <a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-170" id="solution-170"><span class="type">Solution.</span> </a><div class="hidden-content tex2jax_ignore" id="hk-solution-170"><div class="solution solution-like">
<p id="p-659">In removing element \(n\text{,}\) one of two things happens.</p>
<ul class="disc">
<li id="li-343"><p id="p-660">If \(n\) was at the end of an ascending run of length at least 2, the number of ascending runs does not change. This includes the case where \(n\) was in the final position</p></li>
<li id="li-344"><p id="p-661">If \(n\) was in an ascending run by itself, then the number of ascending runs goes down by one. This includes the case where \(n\) is in the first position.</p></li>
</ul>
</div></div></p></li>
<li id="li-345">
<p id="p-662">Fixing \(p'=p_1 p_2 \cdots p_{n-1} \in \cA(n-1,k)\text{,}\) can we obtain an element of \(\cA(n,k)\) by placing element \(n\text{...}\)</p>
<ul class="disc">
<li id="li-346"><p id="p-663">Before \(p_1\text{?}\) <a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-171" id="solution-171"><span class="type">Solution.</span> </a><div class="hidden-content tex2jax_ignore" id="hk-solution-171"><div class="solution solution-like"><p id="p-664">No, because this will create a new ascending run.</p></div></div></p></li>
<li id="li-347"><p id="p-665">After \(p_{n-1}\text{?}\) <a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-172" id="solution-172"><span class="type">Solution.</span> </a><div class="hidden-content tex2jax_ignore" id="hk-solution-172"><div class="solution solution-like"><p id="p-666">Yes: this just continues the current ascent.</p></div></div></p></li>
<li id="li-348"><p id="p-667">Directly after a descent of \(p'\text{?}\) <a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-173" id="solution-173"><span class="type">Solution.</span> </a><div class="hidden-content tex2jax_ignore" id="hk-solution-173"><div class="solution solution-like"><p id="p-668">Yes, that descent becomes an ascent, and now there is a descent after element \(n\text{.}\)</p></div></div></p></li>
<li id="li-349"><p id="p-669">Directly after an ascent of \(p'\text{?}\) <a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-174" id="solution-174"><span class="type">Solution.</span> </a><div class="hidden-content tex2jax_ignore" id="hk-solution-174"><div class="solution solution-like"><p id="p-670">No, this creates a new descent after element \(n\) for a total of \(k\) descents (instead of the required \(k-1\)).</p></div></div></p></li>
</ul>
<p class="continuation">In conclusion, how many different options do you have for inserting element \(n\text{?}\) <a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-175" id="solution-175"><span class="type">Solution.</span> </a><div class="hidden-content tex2jax_ignore" id="hk-solution-175"><div class="solution solution-like"><p id="p-671">There are \(1 + (k-1) = k\) possible places to put element \(n\) when starting with \(p \in \cA(n-1,k)\text{.}\)</p></div></div></p>
</li>
<li id="li-350">
<p id="p-672">Fixing \(p'=p_1 p_2 \cdots p_{n-1} \in \cA(n-1,k-1)\text{,}\) can we obtain an element of \(\cA(n,k)\) by placing element \(n\text{...}\)</p>
<ul class="disc">
<li id="li-351"><p id="p-673">Before \(p_1\text{?}\) <a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-176" id="solution-176"><span class="type">Solution.</span> </a><div class="hidden-content tex2jax_ignore" id="hk-solution-176"><div class="solution solution-like"><p id="p-674">Yes, this adds a new descent, increasing our total number of descents from \(k-2\) to \(k-1\text{.}\)</p></div></div></p></li>
<li id="li-352"><p id="p-675">After \(p_{n-1}\text{?}\) <a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-177" id="solution-177"><span class="type">Solution.</span> </a><div class="hidden-content tex2jax_ignore" id="hk-solution-177"><div class="solution solution-like"><p id="p-676">No, this does not add a new descent.</p></div></div></p></li>
<li id="li-353"><p id="p-677">Directly after a descent of \(p'\text{?}\) <a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-178" id="solution-178"><span class="type">Solution.</span> </a><div class="hidden-content tex2jax_ignore" id="hk-solution-178"><div class="solution solution-like"><p id="p-678">No, this removes a decent and adds a decent for a net gain of zero.</p></div></div></p></li>
<li id="li-354"><p id="p-679">Directly after an ascent of \(p'\text{?}\) <a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-179" id="solution-179"><span class="type">Solution.</span> </a><div class="hidden-content tex2jax_ignore" id="hk-solution-179"><div class="solution solution-like"><p id="p-680">Yes, this adds a descent so that we now have \(k-1\) descents.</p></div></div></p></li>
</ul>
<p class="continuation">In conclusion, how many different options do you have for inserting element \(n\text{?}\) <em class="emphasis">Pro Tip #3:</em> Remember that you are starting with \(p' \in  \cA(n-1,k-1)\text{,}\) so there are \(n-2\) total ascents/descents. <a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-180" id="solution-180"><span class="type">Solution.</span> </a><div class="hidden-content tex2jax_ignore" id="hk-solution-180"><div class="solution solution-like"><p id="p-681">We can insert element \(n\) in \(1 + (n-2) - (k-2) = 1 + n - k = n-k+1\) places.</p></div></div></p>
</li>
<li id="li-355"><p id="p-682">Put together your answers from parts (d) and (e) to prove that \(\)A(n,k) = k \, A(n-1,k) + (n-k+1) A(n-1, k-1).\(\) <a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-181" id="solution-181"><span class="type">Solution.</span> </a><div class="hidden-content tex2jax_ignore" id="hk-solution-181"><div class="solution solution-like"><p id="p-683">When we remove element \(n\) from \(p \in \cA(n,k)\text{,}\) we either obtain an element of \(\cA(n-1,k)\) or \(\cA(n-1,k-1).\) By part (d), we obtain each \(p' \in \cA(n-1,k)\) exactly \(k\) times. By part (e), we obtain each \(p' \in \cA(n-1,k-1)\) exactly \(n-k+1\) times. This proves the recurrence.</p></div></div></p></li>
</ol></article><article class="exercise exercise-like" id="exercise-78"><h6 class="heading">
<span class="codenumber">2<span class="period">.</span></span><span class="space"> </span><span class="title">Symmetry of Eulerian Numbers.</span>
</h6>
<p id="p-684">In this problem, you will prove the symmetry that  we observed in the Eulerian triangle:</p>
<div class="displaymath">
\begin{equation*}
A(n,k) = A(n, n-k+1).
\end{equation*}
</div>
<p class="continuation">Let \(p = p_1 p_2 \cdots p_n \in \cA(n,k),\) so that \(p\) has \(k-1\) descents among \(p_1, p_2, \ldots p_{n-1}\text{.}\) Consider its reverse \(\overline{p} = p_n p_{n-1} \cdots p_1\text{.}\) By <em class="emphasis">tracking descents</em> (not ascending runs), explain why</p>
<ul class="disc">
<li id="li-356"><p id="p-685">\(\overline{p} \in \cA(n,n-k+1)\text{,}\) and</p></li>
<li id="li-357"><p id="p-686">the mapping \(p \rightarrow \overline{p}\) is a bijection from \(\cA(n,k)\) to \(\cA(n,n-k+1)\text{.}\)</p></li>
</ul>
<p class="continuation"><em class="emphasis">Pro Tip #4:</em> The reversal mapping \(p \rightarrow \overline{p}\) is a <em class="emphasis">very useful tool</em> for investigating the structure of permutations. <a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-182" id="solution-182"><span class="type">Solution.</span> </a><div class="hidden-content tex2jax_ignore" id="hk-solution-182"><div class="solution solution-like">
<p id="p-687">We show that \(\overline{p} \in \cA(n,n-k+1)\text{.}\)</p>
<ul class="disc">
<li id="li-358"><p id="p-688">\(p\) has \(k-1\) descents in positions \(1 \leq j \leq n-1\text{.}\)</p></li>
<li id="li-359"><p id="p-689">Therefore \(\overline{p}\) has \(k-1\) ascents in positions \(1 \leq j \leq n-1\text{.}\)</p></li>
<li id="li-360"><p id="p-690">Therefore \(\overline{p}\) has \((n-1)-(k-1) = n-k\) descents in positions \(1 \leq j \leq n-1\text{.}\)</p></li>
<li id="li-361"><p id="p-691">Therefore \(\overline{p} \in \cA(n,n-k+1).\)</p></li>
</ul>
<p class="continuation">Now  it is easy to prove that the mapping involved is reversible, and hence is an invertible function. So it is a bijection between these sets.</p>
</div></div></p></article></section></section></div></main>
</div>
</body>
</html>
