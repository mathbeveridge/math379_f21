<?xml version="1.0" encoding="UTF-8" ?>

<chapter xml:id="counting-exercise" xmlns:xi="http://www.w3.org/2001/XInclude">
	<title>Counting Exercises</title>
	<introduction>
		<p>



	</p>
	</introduction>
	<exercises>
		<title>Exercises</title>
		<exercise>
			<statement>
				<p>
 Consider an integer lattice <m>L</m> of points given by
<me>
L = \{ (x,y) : 1 \leq x \leq 4 \mbox{ and }  1 \leq y \leq 82 \}.
</me>
Show that no matter how we color the points using three colors (red, blue, yellow), there is a "monochromatic rectangle" whose corner points all get the same color.

			</p><p>

(Hint: you have to use the Pigeonhole Principle twice. First, look at a single row. What can you conclude about the colors? Next, look at the set <m>S</m> of all rows in <m>L</m> (with their colorings). What can you conclude about the set <m>S</m>?)


				</p>
			</statement>
		</exercise>
		<exercise>
			<statement>
				<p>
 Show that if 51 integers are chosen from <m>[100] = \{1,2, \ldots, 100 \}</m> then there must be two of them with the property that one is divisible by the other.

			</p><p>

(Hint: Write each <m>a \in [100]</m> as <m>a=2^k b</m> where <m>k \geq 0</m> and <m>b</m> is an odd number. You are now ready to use the Pigeonhole Principle.)


				</p>
			</statement>
		</exercise>
		<exercise>
			<statement>
				<p>
 Suppose that f: <m>A \rightarrow B</m>  and <m>g: B \rightarrow C</m> are functions.

			<ol>
				<li>
					<p>
 If <m>g \circ f</m>  is injective and <m>f</m> is surjective, then show that <m>g</m> is injective.
					</p>
				</li>
				<li>
					<p>
 If <m>g \circ f</m> is surjective and <m>g</m> is injective, then show that <m>f</m> is surjective.
					</p>
				</li>
			</ol>

				</p>
			</statement>
		</exercise>
		<exercise>
			<statement>
				<p>
  Let <m>k \leq n</m> be positive integers. Find a bijection <m>f : A \rightarrow B</m> between the following sets.
		<ul>
			<li>
			<p>
 <m>A =</m> all words of length n using the alphabet <m>\{0,1,2,...,k\}</m>

			</p>
			</li>
			<li>
			<p>
 <m>B =</m> all lists <m>(S_1, S_2, \cdots , S_k)</m> where each <m>S_i</m> is a subset of <m>[n]</m> and
<m>S_1 \subset S_2 \subset \cdots  \subset S_k</m>. And remember: <m>X \subset Y</m> means that  <m>X \subseteq Y</m>.
			</p>
			</li>
		</ul>
Justify why your function is a bijection.

				</p>
			</statement>
		</exercise>
		<exercise>
			<statement>
				<p>
 We have defined the size <m>|A|</m> of a set to be the number of elements in <m>A</m>. In fact, what we are saying is that <m>|A| = m</m> if any only if there is a bijection <m>f: A \rightarrow [m]</m>.

Let <m>A</m> and <m>B</m> be disjoint sets (so that <m>|A \cap B| = \emptyset</m>). Suppose that <m>|A|=m</m> and <m>|B| = n</m>, and that <m>f: A \rightarrow [m]</m> is a bijection and that <m>g: B \rightarrow [n]</m> is a bijection.

			<ol>
				<li>
					<p>
 Give a <em>bijective proof</em> of the addition rule
<me>
|A \cup B| = |A| + |B|.
</me>
In other words, find a bijective function <m>h : A \cup B \rightarrow [m+n]</m>. You can simply construct the function. You do not need to prove it is a bijection.
					</p>
				</li>
				<li>
					<p>
 Give a <em>bijective proof</em> of the product rule
<me>
|A \times B| = |A| \cdot |B|.
</me>
In other words, find a bijective function <m>h : A \times B \rightarrow [mn]</m>. You can simply construct the function. You do not need to prove it is a bijection.

					</p>
				</li>
			</ol>




				</p>
			</statement>
		</exercise>
		<exercise>
			<statement>
				<p>
 We have a circular table with <m>2n+1</m> identical chairs. We want to seat <m>n</m> math majors, <m>n</m> philosophy majors, and one dog. 
 <ol>
	<li>
		<p>
			In how many ways can this be done if no math major can sit next to a math major, and no philosophy major can sit next to a philosophy major? 
		</p>
	</li>
	<li>
		<p>
			In how many ways can this be done if no math major can sit next to a math major? 
		</p>
	</li>
 </ol>
				</p>
			</statement>
		</exercise>		
		<exercise>
			<statement>
				<p>
					Bertie Bott's Every Flavour Beans come in the following 20 flavors:		
					Banana, Black Pepper, Blueberry, Booger, Candyfloss, Cherry, Cinnamon,
					Dirt, Earthworm, Earwax, Grass, Green Apple, Lemon,  Marshmallow,
					Rotten Egg,  Sausage, Soap, Tutti-Fruitti, Vomit, Watermelon.	
				</p>
					
				<p>
				Bertie's Beans are packaged in bags of 50, but there is no guarantee as to how the flavours will be distributed. 
				You might get a mixture of all 20 flavours, or just some Earwax and Vomit, or just Blueberry.
			</p>
					
			<p>
				Answer the following questions by explicitly mapping each situation to a balls-and-boxes problem.							
 <ol>
	<li>
		<p>
			How many ways are there to fill a bag of Bertie Bott's Every Flavour Beans?		
		</p>
	</li>
	<li>
		<p>
			How many ways are there to fill a bag if we must distribute the flavors as evenly as possible? 
			In other words, the bag contains either 2 or 3 jellybeans of each flavour? 
		</p>
	</li>
	<li>
		<p>
			I have one bean from each of the 20 flavours. I want to give them away to the 7 members of my quidditch team such that every team member gets at least one bean. 
			How many different ways can I do this?
		</p>
	</li>	
 </ol>
				</p>
			</statement>
		</exercise>			
		<exercise>
			<statement>
				<p>
 Let <m>R(n,k)</m> be the number of ways to partition the set <m>[n]</m> into <m>k</m> parts so that each part contains only even numbers or only odd numbers. For example, we have <m>R(1,1)=1</m>, <m>R(2,1)=0</m> and <m>R(2,2)=1</m>. For <m>n \geq 3</m> and <m>k \geq 2</m>, find a formula for <m>R(n,k)</m> in terms of Stirling numbers of the second kind.



				</p>
			</statement>
		</exercise>
		<exercise>
			<statement>
				<p>
 Let <m>\mbox{q}(n,k)</m> denote the number of partitions of integer <m>n</m> into <m>k</m> distinct parts. The initial values are
<me>
\begin{array}{ccc}
q(0,0)=1, &amp; q(n,0)=0, \mbox{ for } n&gt;0, &amp;  \mbox{and  } q(1,1) = 1.
\end{array}
</me>

			<ol>
				<li>
					<p>
  Explain why <m>q(n,k) &gt;0</m> if and only if <m>n \geq {k+1 \choose 2}</m>.

					</p>
				</li>
				<li>
					<p>
 Prove that if <m>n \geq 2</m> and <m>q(n,k) &gt;0</m>  then
<me>
q(n,k) = q(n-k,k) + q(n-k, k-1).
</me>
					</p>
				</li>
			</ol>


				</p>
			</statement>
		</exercise>
		<exercise>
			<statement>
				<p>
					A <b>stack sortable permutation</b> is a permutation <m>\pi = (\pi_1, \pi_2, \ldots, \pi_n)</m> in which the entries can be placed one by one 
					in a stack (always in descending order from bottom to top) and removed (from top to bottom) 
					to ultimately yield the identity permutation <m>(1,2,\ldots,n)</m>. This is perhaps more easily understood through example. 
					The following figure shows that the permutation (3,1,2) is stack sortable.
				</p>
					
				<p>
					<image width="90%" xml:id="fig-img-count-ex0">
						<latex-image>
							\begin{tikzpicture}[scale=.8]
							\begin{scope}
								\draw (-.8,.5) -- (0,.5);
								\draw (.8,.8) node {312};
								\draw (0,.5) -- (0,-1);
								\draw(0,-1) -- (.6,-1);
								\draw(.6,-1) -- (.6,0);
								\draw(.6,0) -- (.6,.5);
								\draw(.6,.5) -- (1.4,.5);
							\end{scope}
							\begin{scope}[xshift=3cm]
								\draw (-.8,.5) -- (0,.5);
								
								\draw (0,.5) -- (0,-1);
								\draw(0,-1) -- (.6,-1);
								\draw(.6,-1) -- (.6,0);
								\draw(.6,0) -- (.6,.5);
								\draw(.6,.5) -- (1.4,.5);
							\end{scope}
								\begin{scope}[xshift=6cm]
								\draw (-.8,.5) -- (0,.5);
								
								\draw (0,.5) -- (0,-1);
								\draw(0,-1) -- (.6,-1);
								\draw(.6,-1) -- (.6,0);
								\draw(.6,0) -- (.6,.5);
								\draw(.6,.5) -- (1.4,.5);
							\end{scope}
							\begin{scope}[xshift=9cm]
								\draw (-.8,.5) -- (0,.5);
								
								\draw (0,.5) -- (0,-1);
								\draw(0,-1) -- (.6,-1);
								\draw(.6,-1) -- (.6,0);
								\draw(.6,0) -- (.6,.5);
								\draw(.6,.5) -- (1.4,.5);
							\end{scope}
							\begin{scope}[xshift=12cm]
								\draw (-.8,.5) -- (0,.5);
								
								\draw (0,.5) -- (0,-1);
								\draw(0,-1) -- (.6,-1);
								\draw(.6,-1) -- (.6,0);
								\draw(.6,0) -- (.6,.5);
								\draw(.6,.5) -- (1.4,.5);
							\end{scope}
							\begin{scope}[xshift=15cm]
								\draw (-.8,.5) -- (0,.5);
								
								\draw (0,.5) -- (0,-1);
								\draw(0,-1) -- (.6,-1);
								\draw(.6,-1) -- (.6,0);
								\draw(.6,0) -- (.6,.5);
								\draw(.6,.5) -- (1.4,.5);
							\end{scope}
							\draw[->,double](1.0,-.6) -- (2.2,-.6);
							\draw[->,double](4.2,-.6) -- (5.4,-.6);
							\draw[->,double](7.1,-.6) -- (8.3,-.6);
							\draw[->,double](10,-.6) -- (11.2,-.6);
							\draw[->,double](13.2,-.6) -- (14.4,-.6);
							
						
							\draw (3.8,.8) node {12};
							\draw(3.3,-.6) node{3};
						
							\draw (8.8,.8) node {1};
							\draw(9.3,-.6) node{3};
							\draw (9.7,.8) node {2};
						
							\draw (11.8,.8) node {1};
							\draw(12.3,-.6) node{3};
							\draw(12.3,-.1) node{2};
							\draw (14.5,.8) node {123};
							\draw(6.8,.8)node{2};
							\draw(6.3,-.6)node{3};
							\draw(6.3,-.1)node{1};
						
						
						\end{tikzpicture}
					
							
						</latex-image>
					</image>
				</p>
					
				<p>
					This example begins with the permutation <m>(3,1,2)</m>. We first place 3 in the stack, followed by 1.  
					We then move the 1 to the output because we cannot place 2 on top of 1. We repeat this process again 
					with 2 and finally remove 3. The output is the identity permutation <m>(1,2,3)</m>.  

					<ol>
						<li>
							<p>
								There is one permutation of <m>[3]</m> that is NOT stack sortable. What is it? 
								(Note that this means that there are <m>3!-1 = 6-1=5</m> stack sortable permutations of <m>[3]</m>)
							</p>
						</li>
						<li>
							<p>
								There are 14 stack sortable permutations of <m>[4]</m>. Find them all.
							</p>
						</li>
						<li>
							<p>
								Let <m>S_n</m> denote the number of stack sortable permutatations of <m>[n]</m>. 
								prove that <m>S_n</m> satisfies the Catalan recurrence
								<me>
									S_n = S_0 S_{n-1} + S_1 S_{n-2} + \cdots + S_{n-1} S_0 
									= \sum_{k=0}^{n-1} S_k S_{n-1-k}.
								</me>
							</p>
						</li>
					</ol>
				</p>
			</statement>
		</exercise>		
		<exercise>
			<statement>
				<p>
				There are two ways perform the multiplication <m>abc</m>, namely <m>(ab)c</m> and <m>a(bc)</m>. We just need to decide
				how to add parentheses, which determines the order that we multiply these terms together.
				<ol>
					<li>
						<p>
							List the 5 ways to add parentheses to the product <m>abcd</m>.
						</p>
					</li>
					<li>
						<p>
							List the 14 ways to add parentheses to the product <m>abcde</m>.
						</p>
					</li>
					<li>						
						<p>Find a bijection from "trianglulating a convex <m>(n+2)</m>-gon" to 
							"parenthesizing a product of <m>n+1</m> symbols".
							I have begun this process for you on the 5-gons below. 
							I have labelled 4 of the 5 outer edges by the symbols <m>a,b,c,d</m>. 
							Use these labels to create a natural label for each diagonal, one at a time. 
							Finally, this will lead to a natural labeling of the unlabeled outer edge. 
						</p>	
						<p>
							<image width="100%" xml:id="fig-img-count-ex1">
								<latex-image>	
									\begin{tikzpicture}
									% Define the points of a regular pentagon
									\path (0,0) coordinate (origin);
									\path (0:1cm) coordinate (P0);
									\path (1*72:1cm) coordinate (P1);
									\path (2*72:1cm) coordinate (P2);
									\path (3*72:1cm) coordinate (P3);
									\path (4*72:1cm) coordinate (P4);
									% Draw the edges of the pentagon
									\draw (P0) -- (P1) -- (P2) -- (P3) -- (P4) -- cycle;
									% Add "spokes"
									\draw (P4) -- (P1) -- (P3);
									
									\draw (-1,0) node {$a$};
									\draw (-.3,1) node {$b$};
									\draw (.85,.65) node {$c$};
									\draw (.85,-.65) node {$d$};
									
									\begin{scope}[shift={(3,0)}]
									% Define the points of a regular pentagon
									\path (0,0) coordinate (origin);
									\path (0:1cm) coordinate (P0);
									\path (1*72:1cm) coordinate (P1);
									\path (2*72:1cm) coordinate (P2);
									\path (3*72:1cm) coordinate (P3);
									\path (4*72:1cm) coordinate (P4);
									% Draw the edges of the pentagon
									\draw (P0) -- (P1) -- (P2) -- (P3) -- (P4) -- cycle;
									% Add "spokes"
									\draw (P2) -- (P0) -- (P3);
									
									\draw (-1,0) node {$a$};
									\draw (-.3,1) node {$b$};
									\draw (.85,.65) node {$c$};
									\draw (.85,-.65) node {$d$};
									
									\end{scope}
									
									\begin{scope}[shift={(6,0)}]
									% Define the points of a regular pentagon
									\path (0,0) coordinate (origin);
									\path (0:1cm) coordinate (P0);
									\path (1*72:1cm) coordinate (P1);
									\path (2*72:1cm) coordinate (P2);
									\path (3*72:1cm) coordinate (P3);
									\path (4*72:1cm) coordinate (P4);
									% Draw the edges of the pentagon
									\draw (P0) -- (P1) -- (P2) -- (P3) -- (P4) -- cycle;
									% Add "spokes"
									\draw (P1) -- (P4) -- (P2);
									
									\draw (-1,0) node {$a$};
									\draw (-.3,1) node {$b$};
									\draw (.85,.65) node {$c$};
									\draw (.85,-.65) node {$d$};
									
									\end{scope}
									
									\begin{scope}[shift={(9,0)}]
									% Define the points of a regular pentagon
									\path (0,0) coordinate (origin);
									\path (0:1cm) coordinate (P0);
									\path (1*72:1cm) coordinate (P1);
									\path (2*72:1cm) coordinate (P2);
									\path (3*72:1cm) coordinate (P3);
									\path (4*72:1cm) coordinate (P4);
									% Draw the edges of the pentagon
									\draw (P0) -- (P1) -- (P2) -- (P3) -- (P4) -- cycle;
									% Add "spokes"
									\draw (P1) -- (P3) -- (P0);
									
									\draw (-1,0) node {$a$};
									\draw (-.3,1) node {$b$};
									\draw (.85,.65) node {$c$};
									\draw (.85,-.65) node {$d$};
									
									\end{scope}
									
									\begin{scope}[shift={(12,0)}]
									% Define the points of a regular pentagon
									\path (0,0) coordinate (origin);
									\path (0:1cm) coordinate (P0);
									\path (1*72:1cm) coordinate (P1);
									\path (2*72:1cm) coordinate (P2);
									\path (3*72:1cm) coordinate (P3);
									\path (4*72:1cm) coordinate (P4);
									% Draw the edges of the pentagon
									\draw (P0) -- (P1) -- (P2) -- (P3) -- (P4) -- cycle;
									% Add "spokes"
									\draw (P0) -- (P2) -- (P4);
									
									\draw (-1,0) node {$a$};
									\draw (-.3,1) node {$b$};
									\draw (.85,.65) node {$c$};
									\draw (.85,-.65) node {$d$};
									
									\end{scope}
									
									\end{tikzpicture}				

								</latex-image>
							</image>
						</p>
						<p>
							Complete this labeling process for the 5 pentagons above. Then give a general explanation for 
							what to do with an <m>(n+2)</m>-gon. Give a 
							convincing argument that you will eventually be able to label every diagonal, as well as 
							labelling the final side of the original polygon.
						</p>
					</li>
				</ol>
				</p>
			</statement>
		</exercise>		
	</exercises>




</chapter>
